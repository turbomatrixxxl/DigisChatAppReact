"use strict";(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[434],{434:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(43),n=s(3),o=s(140),i=s(216),c=s(381),l=s(461),d=s(204),g=s(258);const m={chatPage:"ChatPage_chatPage__yEme2",messageList:"ChatPage_messageList__pG9D1",outbox:"ChatPage_outbox__qaoCU",inbox:"ChatPage_inbox__oxI9J",ownerName:"ChatPage_ownerName__iZifK",msgOutboxContent:"ChatPage_msgOutboxContent__2hPta",timestampOutbox:"ChatPage_timestampOutbox__eEih5",msgInboxContent:"ChatPage_msgInboxContent__rGXUo",timestampInbox:"ChatPage_timestampInbox__EChid",sendMsgCont:"ChatPage_sendMsgCont__gCZXa",sendMsgInput:"ChatPage_sendMsgInput__2pJuU",writeMsgButton:"ChatPage_writeMsgButton__UWYJz",paperClipIcon:"ChatPage_paperClipIcon__b6Umr",smileIcon:"ChatPage_smileIcon__U6la2",sendIcon:"ChatPage_sendIcon__MJcgz",sendMsgButton:"ChatPage_sendMsgButton__kraaH"};var r=s(579);function h(){const{chatId:e}=(0,i.g)(),{chats:t}=(0,c.R)(),s=(0,n.wA)(),[h,u]=(0,a.useState)(""),[_,x]=(0,a.useState)(!1),p=(0,a.useRef)(),C=t.find((t=>t.id===e));if(!C)return(0,r.jsx)("div",{className:m.notFound,children:"Chat not found"});const b=e=>{let t=new Date(e);if(isNaN(t.getTime())){const s=e.replace(/(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}):(\d{2})\.(\d{3})Z$/,"$1:59.$3Z");t=new Date(s)}if(isNaN(t.getTime()))return"";t.getSeconds()>59&&t.setSeconds(59);const s=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${t.getDate()}${t.toLocaleString("default",{month:"long"})}${t.getFullYear()} ${s}`};return(0,r.jsxs)("div",{className:m.chatPage,children:[(0,r.jsx)("ul",{className:m.messageList,children:C.messages.map((e=>e.isInbox?(0,r.jsxs)("li",{className:m.outbox,children:[(0,r.jsx)("span",{className:m.ownerName,children:"Radu Bogdan"}),(0,r.jsx)("span",{className:m.msgOutboxContent,children:e.content}),(0,r.jsx)("span",{className:m.timestampOutbox,children:e.sentAt?b(e.sentAt):"Time not available"})]},e.id):(0,r.jsxs)("li",{className:m.inbox,children:[(0,r.jsx)("span",{className:m.msgInboxContent,children:e.content}),(0,r.jsx)("span",{className:m.timestampInbox,children:e.sentAt?b(e.sentAt):"Time not available"})]},e.id)))}),(0,r.jsxs)("div",{className:m.sendMsgCont,children:[(0,r.jsxs)(l.A,{width:"100%",className:m.sendMsgInput,paddingLeft:"20px",placeholder:"Type something here...",value:h,handleChange:e=>u(e.target.value),children:[(0,r.jsx)("button",{type:"button",className:m.writeMsgButton,onClick:()=>{p.current.click()},children:(0,r.jsx)(d.EHs,{className:m.paperClipIcon,size:18})}),(0,r.jsx)("input",{type:"file",ref:p,onChange:e=>{const t=e.target.files[0];t&&console.log("Selected file:",t)},style:{display:"none"}}),(0,r.jsxs)("div",{className:m.emojiWrapper,children:[(0,r.jsx)("button",{type:"button",className:m.writeMsgButton,onClick:()=>{x((e=>!e)),console.log("click")},children:(0,r.jsx)(d.kqk,{className:m.smileIcon,size:18})}),_&&(0,r.jsx)("div",{className:m.emojiPicker,children:(0,r.jsx)(g.Ay,{onEmojiClick:e=>{u((t=>t+e.emoji))}})})]})]}),(0,r.jsx)("button",{className:m.sendMsgButton,onClick:()=>{h.trim()&&(s((0,o.wi)({chatId:e,newMessages:[{id:crypto.randomUUID(),content:h,isInbox:!1,sentAt:(new Date).toISOString()}]})),u(""),x(!1))},children:(0,r.jsx)(d.Cer,{className:m.sendIcon,size:24})})]})]})}}}]);
//# sourceMappingURL=434.83ac381a.chunk.js.map